## Как собрать проект с помощью platformio

Для сборки проекта под platformio понадобится следующее:

Установить [IDE Visual Studio Code](https://code.visualstudio.com/), и в качестве плагина к ней установить [Platformio](https://platformio.org/). О том как это сделать можно найти массу роликов на youtube, например [этот](https://www.youtube.com/watch?v=NSljt17mg74).

 * Открываем папку проекта в VSCode
 * Что бы собрать прошивку, можно воспользоваться кнопками в нижней статусной строке:
   - PlatformIO:Build - собрать прошивку
   - PlatformIO:Upload - загрузить прошивку через USB в плату.

Platformio сам скачает необходимые бибиотеки для сборки проекта.

Также можно открыть терминал с помощью клавишь Ctrl+Shit+` и воспользоваться расширенными командами для сборки проекта.

 - **pio run** - собрать проект по умолчанию (esp8266dev), dev версия под esp8266 c выводом отладочных сообщений через serial интерфейс.
 - **pio run -e esp8266** - собрать версию esp8266, будет собрана облегченная прошивка без вывода отладочных сообщений через serial интерфейс
			    Рекомендуется для повседневного использования, если нет нужды отлаживать работу лампы
 - **pio run -e esp32dev** - собрать версию esp32dev, будет собрана прошивка под esp32 c выводом отладочных сообщений через serial интерфейс
 - **pio run -t upload** - собрать и прошить проект по умолчанию (esp8266dev)
 - **pio run -e esp8266 -t upload** - собрать и прошить облегченную версию 
 - **pio deviсe monitor** - запустить serial-монитор для просмотра сообщений, выдаваемых контроллером
 
 После первой прошивки дальнейшие обновления можно заливать в контроллер по воздуху. Для этого нужно зайти браузером на контроллер по URL вида http://jeeui-xxxx/update, где xxxx это ID контроллера, нажать на кномку 'Firmware', выбрать файл с прошивкой и загрузить его в контроллер.
 Файл с прошивкой Platformio кладет в подпапки проекта:
  - **.pio/build/esp8266/firmware.bin** - обычная версия под esp8266
  - **.pio/build/esp8266dev/firmware.bin** - debug версия под esp8266
  - **.pio/build/esp32dev/firmware.bin** - debug версия под esp32
